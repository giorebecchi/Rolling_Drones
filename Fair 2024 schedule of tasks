Tasks for Drones and Simulation Controller


###Drone-Specific Tasks

    Initialization

    Distribute drone implementations (impl) evenly across drones as per specifications. 游릭
    Set up Rust channels for communication between drones. 游릭
    Configure Packet Drop Rate (PDR) from the network initialization file (0-1 scale). 游릭

    Packet Handling

    Implement source routing for message forwarding:
        Verify the hops[hop_index] matches the drone's ID. 游댮
        Increment the hop_index and forward the packet to the next hop or terminate appropriately. 游릭
        Handle packet drops based on PDR and send Nack with type Dropped if necessary. 游릭
        Prioritize handling simulation controller commands over other messages. 游댮
        Handle MsgFragment, Ack, Nack, and flood-related packets according to protocol rules. 游릭

    Flooding Protocol

    Participate in the Network Discovery Protocol:
        Add the drone to the path_trace in FloodRequest. 游댮
        Forward the FloodRequest to neighbors or create a FloodResponse as required. 游댮
        Return topology information through FloodResponse packets. 游댮

    Simulation Events

    Emit PacketSent and PacketDropped events to the simulation controller. 游댮
    Use the simulation controller for error handling of lost Ack, Nack, and FloodResponse packets. 游댮

    Error Handling

    Send appropriate Nack types for routing or processing errors:
        ErrorInRouting 游댮
        UnexpectedRecipient 游댮
        DestinationIsDrone 游댮

Simulation Controller-Specific Tasks

    Communication Management

    Create and maintain unbounded Rust channels for all nodes. 游릭
    Issue commands to drones:
        Crash, RemoveSender, AddSender, SetPacketDropRate. 游릭
    Receive and process events from drones (PacketSent, PacketDropped, ControllerShortcut). 游댮

    Validation and Network Maintenance

    Ensure the network remains connected after any command: 游
    Validate client-drone and server-drone connectivity rules. 游

    Drone Crashes

    Implement drone crash behavior:
        Remove senders from crashed drones. 游릭
        Process and forward remaining packets in the crash state. 游릭
        Send ErrorInRouting Nack for other packets. 游릭
        Listen to Crash Drone should send back an error. 游댮

    Packet Routing

    Directly forward lost Ack, Nack, and FloodResponse packets to their destination. 游릭
